<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-136559762-4","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-5RFDRMB"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-5RFDRMB",{})</script><title data-rh="true">Migrating v2 to v3 | uniforms | React form library for building forms from any schema</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://uniforms.tools/docs/migrating-2-to-3/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Migrating v2 to v3 | uniforms | React form library for building forms from any schema"><meta data-rh="true" name="description" content="This guide is designed to help you through the migration. If you went through it and encountered any problems - do let us know. For more information on why certain changes were made, see the CHANGELOG.md. When migrating to v3, use the newest version. Gradual updates will take more time and won&#x27;t ease this process."><meta data-rh="true" property="og:description" content="This guide is designed to help you through the migration. If you went through it and encountered any problems - do let us know. For more information on why certain changes were made, see the CHANGELOG.md. When migrating to v3, use the newest version. Gradual updates will take more time and won&#x27;t ease this process."><link data-rh="true" rel="icon" href="/favicon.ico"><link data-rh="true" rel="canonical" href="https://uniforms.tools/docs/migrating-2-to-3/"><link data-rh="true" rel="alternate" href="https://uniforms.tools/docs/migrating-2-to-3/" hreflang="en"><link data-rh="true" rel="alternate" href="https://uniforms.tools/docs/migrating-2-to-3/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://WWWW16GKXU-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.74c366ac.css">
<link rel="preload" href="/assets/js/runtime~main.d47caa33.js" as="script">
<link rel="preload" href="/assets/js/main.c6a1a1ec.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_BxGa">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/uniforms.svg" alt="uniforms logo" class="themedImage_aIr_ themedImage--light_DGIu"><img src="/img/uniforms.svg" alt="uniforms logo" class="themedImage_aIr_ themedImage--dark_RoHN"></div></a><a class="navbar__item navbar__link" href="/docs/what-are-uniforms/">Docs</a><a class="navbar__item navbar__link" href="/docs/tutorials-basic-uniforms-usage/">Tutorial</a><a class="navbar__item navbar__link" href="/playground/">Playground</a><a href="https://github.com/vazco/uniforms" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_GWqj"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a class="navbar__item navbar__link" href="/#commercial-services">Enterprise</a></div><div class="navbar__items navbar__items--right"><div class="toggle_IT2h toggle_XAIj toggleDisabled_DnRe"><div class="toggleButton_pGki" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_dYsV"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_WRF1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_XftH" aria-label="Switch between dark and light mode (currently light mode)"></div><div class="searchBox_lGmL"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_zNSk"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_ecpa" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_NEdF"><div class="sidebar_hzbe"><nav class="menu thin-scrollbar menu_kHpq"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Introduction</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-are-uniforms/">What are uniforms?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/motivation/">Motivation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/compare-matrix/">Comparison matrix</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Getting Started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation/">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/faq/">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/migrating-2-to-3/">Migrating v2 to v3</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Tutorials</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials-basic-uniforms-usage/">Basic uniforms usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials-customizing-your-form-layout/">Customizing your form layout</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials-using-predefined-fields/">Using predefined fields</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials-creating-custom-field/">Creating a custom field</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials-creating-custom-theme/">Creating a custom theme</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Examples</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/examples-common-forms/">Common forms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/examples-custom-fields/">Custom fields</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/examples-custom-bridge/">Custom bridge &amp; validator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/examples-custom-form/">Custom form</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">API Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api-forms/">Forms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api-fields/">Fields</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api-bridges/">Bridges</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api-context-data/">Context data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api-helpers/">Helpers</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Under The Hood</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/uth-autofield-algorithm/">AutoField algorithm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/uth-bridge-concept/">Bridge concept</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_e1ki"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_s26a"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_vJqy"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_ygLL"><div class="docItemContainer_yJzi"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_nmcO" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_LVKE" href="/">🏠</a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_LVKE">Getting Started</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_LVKE" href="/docs/migrating-2-to-3/">Migrating v2 to v3</a></li></ul></nav><div class="tocCollapsible_aX8Q theme-doc-toc-mobile tocMobile_By44"><button type="button" class="clean-btn tocCollapsibleButton_Va7b">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Migrating v2 to v3</h1></header><p>This guide is designed to help you through the migration. If you went through it and encountered any problems - do let us know. For more information on <em>why</em> certain changes were made, see the <a href="https://github.com/vazco/uniforms/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer"><code>CHANGELOG.md</code></a>. When migrating to v3, use the newest version. Gradual updates will take more time and won&#x27;t ease this process.</p><h2 class="anchor anchorWithStickyNavbar_YDjN" id="breaking-api-changes">Breaking API changes<a class="hash-link" href="#breaking-api-changes" title="Direct link to heading">​</a></h2><ul><li>Context data shape has changed: <code>changed</code>, <code>changedMap</code>, <code>submitting</code>, and <code>validating</code> were lifted from the <code>state</code> property to the root.</li><li>Removed <code>AutoForm.state.modelSync</code>. Use <code>AutoForm.state.model</code> instead.</li><li>Removed <code>BaseField</code>. Use <code>connectField</code> or <code>useField</code> instead.</li><li>Removed <code>BaseForm.getChangedKeys</code>. Use <code>changedKeys</code> directly.</li><li>Removed <code>BaseForm.state.bridge</code>. Use <code>BaseForm.props.schema</code> instead.</li><li>Removed <code>Bridge.check</code>. Without <code>createSchemaBridge</code> it&#x27;s no longer needed.</li><li>Removed <code>baseField</code> from <code>connectField</code> options. There&#x27;s no one solution here and it may require additional changes, depending on the usage.</li><li>Removed <code>createSchemaBridge</code>. Now all <code>*Bridge</code> instances have to be created manually.<div class="codeBlockContainer_CBWl language-diff theme-code-block"><div class="codeBlockContent_vhl8 diff"><pre tabindex="0" class="prism-code language-diff codeBlock_w2AC thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_OfWd"><span class="token-line" style="color:#ffffff"><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> import { SimpleSchema } from &#x27;simpl-schema&#x27;;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#D8DEE9">+</span><span class="token inserted-sign inserted line" style="color:#D8DEE9"> import { SimpleSchema2Bridge } from &#x27;uniforms-bridge-simple-schema-2&#x27;;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted line" style="color:#D8DEE9"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> const schema = new SimpleSchema({ /* ... */ });</span><br></span><span class="token-line" style="color:#ffffff"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:#5a9bcf">-</span><span class="token deleted-sign deleted line" style="color:#5a9bcf"> &lt;AutoForm schema={schema} /&gt;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token deleted-sign deleted line" style="color:#5a9bcf"></span><span class="token inserted-sign inserted prefix inserted" style="color:#D8DEE9">+</span><span class="token inserted-sign inserted line" style="color:#D8DEE9"> const bridge = new SimpleSchema2Bridge(schema);</span><br></span><span class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted line" style="color:#D8DEE9"></span><span class="token inserted-sign inserted prefix inserted" style="color:#D8DEE9">+</span><span class="token inserted-sign inserted line" style="color:#D8DEE9"> &lt;AutoForm schema={bridge} /&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BbpX clean-btn">Copy</button></div></div></li><li>Removed <code>ensureValue</code> from <code>connectField</code> options. That means <code>undefined</code> will no longer be automatically passed to the field as <code>&#x27;&#x27;</code>. Use <code>value ?? &#x27;&#x27;</code> instead. <strong>This option was enabled by default, therefore it will impact all your custom fields</strong>.</li><li>Removed <code>includeParent</code> from <code>connectField</code> options. Use <code>useField</code> as many times as needed instead.<div class="codeBlockContainer_CBWl language-tsx theme-code-block"><div class="codeBlockContent_vhl8 tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_w2AC thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_OfWd"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> parentName </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">joinName</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token function" style="color:#79b6f2">joinName</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword null nil" style="color:#c5a5c5">null</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> props</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">slice</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">-</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> parentField </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">useField</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">parentName</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> absoluteName</span><span class="token operator" style="color:#d7deea">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ff8b50">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">0</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BbpX clean-btn">Copy</button></div></div></li><li>Removed <code>injectName</code>. In most cases, it can be safely omitted.</li><li>Removed <code>mapProps</code> from <code>connectField</code> options. Map props directly in the component.</li><li>Removed <code>nothing</code>. Use <code>null</code> instead.</li><li>Removed all <code>propTypes</code> in favor of TypeScript types.</li><li>Renamed or removed deprecated lifecycle methods. If you were using them, e.g. <code>super.componentWillReceiveProps</code>, check whether it&#x27;s still there and use the correct name if needed.</li><li>Renamed <code>getChildContext*</code> methods to <code>getContext*</code>, e.g. <code>getChildContextName</code> -&gt; <code>getContextName</code>.</li><li>Synchronous return and throw in <code>onSubmit</code> are no longer allowed. To return an error or some result, return a <code>Promise</code> instead.</li><li><code>filterDOMProps.registered</code> is now read-only.</li></ul><h2 class="anchor anchorWithStickyNavbar_YDjN" id="validation-flow-changes">Validation flow changes<a class="hash-link" href="#validation-flow-changes" title="Direct link to heading">​</a></h2><ul><li>Bridge validators have to return errors instead of throwing them.<div class="codeBlockContainer_CBWl language-diff theme-code-block"><div class="codeBlockContent_vhl8 diff"><pre tabindex="0" class="prism-code language-diff codeBlock_w2AC thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_OfWd"><span class="token-line" style="color:#ffffff"><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> // GraphQL Schema</span><br></span><span class="token-line" style="color:#ffffff"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> function validator(model) {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   if (errors.length) {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:#5a9bcf">-</span><span class="token deleted-sign deleted line" style="color:#5a9bcf">     throw { details: validator.errors };</span><br></span><span class="token-line" style="color:#ffffff"><span class="token deleted-sign deleted line" style="color:#5a9bcf"></span><span class="token inserted-sign inserted prefix inserted" style="color:#D8DEE9">+</span><span class="token inserted-sign inserted line" style="color:#D8DEE9">     return { details: validator.errors };</span><br></span><span class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted line" style="color:#D8DEE9"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   }</span><br></span><span class="token-line" style="color:#ffffff"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BbpX clean-btn">Copy</button></div></div><div class="codeBlockContainer_CBWl language-diff theme-code-block"><div class="codeBlockContent_vhl8 diff"><pre tabindex="0" class="prism-code language-diff codeBlock_w2AC thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_OfWd"><span class="token-line" style="color:#ffffff"><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> // JSON Schema</span><br></span><span class="token-line" style="color:#ffffff"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> function createValidator(schema) {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   const validator = ajv.compile(schema);</span><br></span><span class="token-line" style="color:#ffffff"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   return (model) =&gt; {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     validator(model);</span><br></span><span class="token-line" style="color:#ffffff"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     if (validator.errors &amp;&amp; validator.errors.length) {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:#5a9bcf">-</span><span class="token deleted-sign deleted line" style="color:#5a9bcf">       throw { details: validator.errors };</span><br></span><span class="token-line" style="color:#ffffff"><span class="token deleted-sign deleted line" style="color:#5a9bcf"></span><span class="token inserted-sign inserted prefix inserted" style="color:#D8DEE9">+</span><span class="token inserted-sign inserted line" style="color:#D8DEE9">       return { details: validator.errors };</span><br></span><span class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted line" style="color:#D8DEE9"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     }</span><br></span><span class="token-line" style="color:#ffffff"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   };</span><br></span><span class="token-line" style="color:#ffffff"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BbpX clean-btn">Copy</button></div></div></li><li>Removed <code>onSubmitSuccess</code> and <code>onSubmitFailure</code>. Perform all needed operations directly in the <code>onSubmit</code>:<div class="codeBlockContainer_CBWl language-diff theme-code-block"><div class="codeBlockContent_vhl8 diff"><pre tabindex="0" class="prism-code language-diff codeBlock_w2AC thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_OfWd"><span class="token-line" style="color:#ffffff"><span class="token deleted-sign deleted prefix deleted" style="color:#5a9bcf">-</span><span class="token deleted-sign deleted line" style="color:#5a9bcf"> onSubmit={onSubmit}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token deleted-sign deleted line" style="color:#5a9bcf"></span><span class="token deleted-sign deleted prefix deleted" style="color:#5a9bcf">-</span><span class="token deleted-sign deleted line" style="color:#5a9bcf"> onSubmitSuccess={onSubmitSuccess}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token deleted-sign deleted line" style="color:#5a9bcf"></span><span class="token deleted-sign deleted prefix deleted" style="color:#5a9bcf">-</span><span class="token deleted-sign deleted line" style="color:#5a9bcf"> onSubmitFailure={onSubmitFailure}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token deleted-sign deleted line" style="color:#5a9bcf"></span><span class="token inserted-sign inserted prefix inserted" style="color:#D8DEE9">+</span><span class="token inserted-sign inserted line" style="color:#D8DEE9"> onSubmit={model =&gt; {</span><br></span><span class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted line" style="color:#D8DEE9"></span><span class="token inserted-sign inserted prefix inserted" style="color:#D8DEE9">+</span><span class="token inserted-sign inserted line" style="color:#D8DEE9">   const result = onSubmit(model);</span><br></span><span class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted line" style="color:#D8DEE9"></span><span class="token inserted-sign inserted prefix inserted" style="color:#D8DEE9">+</span><span class="token inserted-sign inserted line" style="color:#D8DEE9">   result.then(onSubmitSuccess, onSubmitFailure);</span><br></span><span class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted line" style="color:#D8DEE9"></span><span class="token inserted-sign inserted prefix inserted" style="color:#D8DEE9">+</span><span class="token inserted-sign inserted line" style="color:#D8DEE9">   return result;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token inserted-sign inserted line" style="color:#D8DEE9"></span><span class="token inserted-sign inserted prefix inserted" style="color:#D8DEE9">+</span><span class="token inserted-sign inserted line" style="color:#D8DEE9"> }}`</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BbpX clean-btn">Copy</button></div></div></li><li><code>onValidate</code> is no longer using callbacks. The error (or the lack of it) has to be returned either synchronously or asynchronously (i.e. wrapped in a promise).<div class="codeBlockContainer_CBWl language-diff theme-code-block"><div class="codeBlockContent_vhl8 diff"><pre tabindex="0" class="prism-code language-diff codeBlock_w2AC thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_OfWd"><span class="token-line" style="color:#ffffff"><span class="token deleted-sign deleted prefix deleted" style="color:#5a9bcf">-</span><span class="token deleted-sign deleted line" style="color:#5a9bcf"> onValidate={(model, error, done) =&gt; done(error)}</span><br></span><span class="token-line" style="color:#ffffff"><span class="token deleted-sign deleted line" style="color:#5a9bcf"></span><span class="token inserted-sign inserted prefix inserted" style="color:#D8DEE9">+</span><span class="token inserted-sign inserted line" style="color:#D8DEE9"> onValidate={async (model, error) =&gt; error}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BbpX clean-btn">Copy</button></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_YDjN" id="react-context-api">React Context API<a class="hash-link" href="#react-context-api" title="Direct link to heading">​</a></h2><ul><li>If you were <strong>not</strong> using <code>context</code>, <code>contextTypes</code>, <code>childContextTypes</code>, or <code>getChildContext*</code> methods directly, there&#x27;s nothing to do.</li><li>For direct context access, use <code>useForm</code> hook (functional components), <code>contextType</code> static property (class components), or <code>&lt;context.Consumer /&gt;</code> (both).<ul><li>The React context object, <code>context</code>, is exported from the <code>uniforms</code> package.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_YDjN" id="typescript">TypeScript<a class="hash-link" href="#typescript" title="Direct link to heading">​</a></h2><ul><li>A lot of types were added or changed. If you are using TypeScript, you may expect some type errors, as all components are no longer full of <code>any</code>.</li><li><code>filterDOMProps.register</code> is now type safe and requires <code>FilterDOMProps</code> interface extension.</li></ul><h2 class="anchor anchorWithStickyNavbar_YDjN" id="miscellaneous">Miscellaneous<a class="hash-link" href="#miscellaneous" title="Direct link to heading">​</a></h2><ul><li>For performance reasons <code>getField</code>, <code>getSubfields</code>, and <code>getType</code> of all bridges are now memoized. If possible, do the same for custom bridges for a potential performance gain.</li><li>Simplified <code>NumField</code> in most themes as it works as expected in React 16 and later. If you have a custom <code>NumField</code> in your project, do revise its implementation for a potential performance gain.</li><li>Stop using direct imports and use named ones instead. It&#x27;ll let your bundler decide, which version it&#x27;ll need.<div class="codeBlockContainer_CBWl language-diff theme-code-block"><div class="codeBlockContent_vhl8 diff"><pre tabindex="0" class="prism-code language-diff codeBlock_w2AC thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_OfWd"><span class="token-line" style="color:#ffffff"><span class="token deleted-sign deleted prefix deleted" style="color:#5a9bcf">-</span><span class="token deleted-sign deleted line" style="color:#5a9bcf">import BaseForm from &#x27;uniforms/BaseForm&#x27;;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token deleted-sign deleted line" style="color:#5a9bcf"></span><span class="token inserted-sign inserted prefix inserted" style="color:#D8DEE9">+</span><span class="token inserted-sign inserted line" style="color:#D8DEE9">import { BaseForm } from &#x27;uniforms&#x27;;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_BbpX clean-btn">Copy</button></div></div></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/faq/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">FAQ</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/tutorials-basic-uniforms-usage/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Basic uniforms usage</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_jWtb thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#breaking-api-changes" class="table-of-contents__link toc-highlight">Breaking API changes</a></li><li><a href="#validation-flow-changes" class="table-of-contents__link toc-highlight">Validation flow changes</a></li><li><a href="#react-context-api" class="table-of-contents__link toc-highlight">React Context API</a></li><li><a href="#typescript" class="table-of-contents__link toc-highlight">TypeScript</a></li><li><a href="#miscellaneous" class="table-of-contents__link toc-highlight">Miscellaneous</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.d47caa33.js"></script>
<script src="/assets/js/main.c6a1a1ec.js"></script>
</body>
</html>